CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=y
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Enable ZMK Device Detector Module and its Joystick Handler
CONFIG_ZMK_DEVICE_DETECTOR=y
CONFIG_ZMK_DEVICE_DETECTOR_HAS_JOYSTICK=y

# Enable the integrated Analog Input sub-driver for the joystick
# This is generally selected by ZMK_DEVICE_DETECTOR_HAS_JOYSTICK if default 'y' is kept
CONFIG_ANALOG_INPUT=y

# Ensure ADC and Sensor subsystems are enabled (often dependencies, but good to be explicit)
CONFIG_ADC=y
CONFIG_SENSOR=y
CONFIG_INPUT=y # Usually enabled by default in ZMK

# Configure the ADC device name and channel for the device detector itself
# Replace "ADC_0" if your board uses a different ADC controller name (e.g., &adc_1)
CONFIG_ZMK_DEVICE_DETECTOR_ADC_NAME="ADC_0"
# Replace 0 with the actual ADC channel ID for your device detection pin
# This must match the 'adc-channel' property in your device_detector DTS node
CONFIG_ZMK_DEVICE_DETECTOR_ADC_CHANNEL_ID=0 
# Placeholder for CONFIG_ZMK_DEVICE_DETECTOR_ADC_CHANNEL_ID - update with actual channel ID

# Optional: Configure voltage thresholds for device detection (if not set in DTS or to override Kconfig defaults)
# CONFIG_ZMK_DEVICE_DETECTOR_VOLTAGE_NONE_MAX_MV=50
# CONFIG_ZMK_DEVICE_DETECTOR_VOLTAGE_JOYSTICK_MIN_MV=51
# CONFIG_ZMK_DEVICE_DETECTOR_VOLTAGE_JOYSTICK_MAX_MV=800
# ... and so on for other devices if configured ...

# Optional: Enable logging for the device detector and analog input
# CONFIG_ZMK_DEVICE_DETECTOR_LOG_LEVEL_DBG=y
# CONFIG_ANALOG_INPUT_LOG_LEVEL_DBG=y
# CONFIG_ANALOG_INPUT_LOG_DBG_RAW=y
# CONFIG_ANALOG_INPUT_LOG_DBG_REPORT=y